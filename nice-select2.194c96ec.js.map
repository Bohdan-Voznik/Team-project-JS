{"version":3,"sources":["js/nice-select2.js"],"names":["triggerClick","el","event","document","createEvent","initEvent","dispatchEvent","triggerChange","triggerFocusIn","triggerFocusOut","attr","key","getAttribute","data","hasClass","className","classList","contains","addClass","add","removeClass","remove","defaultOptions","searchable","NiceSelect","element","options","config","Object","assign","selectedOptions","placeholder","dropdown","multiple","disabled","create","bind","prototype","style","display","processData","extractData","renderDropdown","bindEvent","forEach","item","push","attributes","selected","optgroup","value","querySelectorAll","allOptions","tagName","itemData","text","label","innerText","html","join","insertAdjacentHTML","nextElementSibling","_renderSelectedItems","_renderItems","selectedHtml","window","getComputedStyle","width","length","querySelector","innerHTML","ul","appendChild","_renderItem","option","createElement","setAttribute","addEventListener","_onItemClicked","update","open","parentNode","removeChild","disable","enable","clear","updateSelectValue","destroy","_onClicked","_onKeyPressed","_onClickedOutside","_bindSearchEvent","searchBox","e","stopPropagation","_onSearchChanged","toggle","search","focus","t","optionEl","target","splice","indexOf","dataset","select","focusedOption","keyCode","next","_findNext","preventDefault","prev","_findPrev","previousElementSibling","toLowerCase","matchReg","RegExp","optionText","matched","test"],"mappings":"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","file":"nice-select2.194c96ec.js","sourceRoot":"../src","sourcesContent":["// import \"../scss/nice-select2.scss\";\n\n// utility functions\nfunction triggerClick(el) {\n  var event = document.createEvent(\"MouseEvents\");\n  event.initEvent(\"click\", true, false);\n  el.dispatchEvent(event);\n}\n\nfunction triggerChange(el) {\n  var event = document.createEvent(\"HTMLEvents\");\n  event.initEvent(\"change\", true, false);\n  el.dispatchEvent(event);\n}\n\nfunction triggerFocusIn(el) {\n  var event = document.createEvent(\"FocusEvent\");\n  event.initEvent(\"focusin\", true, false);\n  el.dispatchEvent(event);\n}\n\nfunction triggerFocusOut(el) {\n  var event = document.createEvent(\"FocusEvent\");\n  event.initEvent(\"focusout\", true, false);\n  el.dispatchEvent(event);\n}\n\nfunction attr(el, key) {\n  return el.getAttribute(key);\n}\n\nfunction data(el, key) {\n  return el.getAttribute(\"data-\" + key);\n}\n\nfunction hasClass(el, className) {\n  if (el) return el.classList.contains(className);\n  else return false;\n}\n\nfunction addClass(el, className) {\n  if (el) return el.classList.add(className);\n}\n\nfunction removeClass(el, className) {\n  if (el) return el.classList.remove(className);\n}\n\nvar defaultOptions = {\n  data: null,\n  searchable: false\n};\nexport default function NiceSelect(element, options) {\n  this.el = element;\n  this.config = Object.assign({}, defaultOptions, options || {});\n  this.data = this.config.data;\n  this.selectedOptions = [];\n\n  this.placeholder =\n    attr(this.el, \"placeholder\") ||\n    this.config.placeholder ||\n    \"Select an option\";\n\n  this.dropdown = null;\n  this.multiple = attr(this.el, \"multiple\");\n  this.disabled = attr(this.el, \"disabled\");\n\n  this.create();\n}\n\nNiceSelect.prototype.create = function() {\n  this.el.style.display = \"none\";\n  if (this.data) {\n    this.processData(this.data);\n  } else {\n    this.extractData();\n  }\n\n  this.renderDropdown();\n  this.bindEvent();\n};\n\nNiceSelect.prototype.processData = function(data) {\n  var options = [];\n  data.forEach(item=> {\n    options.push({\n      data: item,\n      attributes: {\n        selected: false,\n        disabled: false,\n\t\toptgroup: item.value == 'optgroup'\n      }\n    });\n  });\n  this.options = options;\n};\n\nNiceSelect.prototype.extractData = function() {\n  var options = this.el.querySelectorAll(\"option,optgroup\");\n  var data = [];\n  var allOptions = [];\n  var selectedOptions = [];\n\n  options.forEach(item => {\n\tif(item.tagName == 'OPTGROUP'){\n\t\tvar itemData = {\n\t\t  text: item.label,\n\t\t  value: 'optgroup'\n\t\t};\n\t}else{\n\t\tvar itemData = {\n\t\t  text: item.innerText,\n\t\t  value: item.value\n\t\t};\n\n\t}\n\n    var attributes = {\n      selected: item.getAttribute(\"selected\") != null,\n      disabled: item.getAttribute(\"disabled\") != null,\n\t  optgroup: item.tagName == 'OPTGROUP'\n    };\n\n    data.push(itemData);\n    allOptions.push({ data: itemData, attributes: attributes });\n  });\n\n  this.data = data;\n  this.options = allOptions;\n  this.options.forEach(function(item) {\n    if (item.attributes.selected) selectedOptions.push(item);\n  });\n\n  this.selectedOptions = selectedOptions;\n};\n\nNiceSelect.prototype.renderDropdown = function() {\n  var classes = [\n    \"nice-select\",\n    attr(this.el, \"class\") || \"\",\n    this.disabled ? \"disabled\" : \"\",\n    this.multiple ? \"has-multiple\" : \"\"\n  ];\n\n  let searchHtml = `<div class=\"nice-select-search-box\">\n<input type=\"text\" class=\"nice-select-search\" placeholder=\"Search...\"/>\n</div>`;\n\n  var html = `<div class=\"${classes.join(\" \")}\" tabindex=\"${\n    this.disabled ? null : 0\n  }\">\n  <span class=\"${this.multiple ? \"multiple-options\" : \"current\"}\"></span>\n  <div class=\"nice-select-dropdown\">\n  ${this.config.searchable ? searchHtml : \"\"}\n  <ul class=\"list\"></ul>\n  </div></div>\n`;\n\n  this.el.insertAdjacentHTML(\"afterend\", html);\n\n  this.dropdown = this.el.nextElementSibling;\n  this._renderSelectedItems();\n  this._renderItems();\n};\n\nNiceSelect.prototype._renderSelectedItems = function() {\n  if (this.multiple) {\n    var selectedHtml = \"\";\n\tif(window.getComputedStyle(this.dropdown).width == 'auto' || this.selectedOptions.length <2){\n\t\tthis.selectedOptions.forEach(function(item) {\n\t\t  selectedHtml += `<span class=\"current\">${item.data.text}</span>`;\n\t\t});\n\t\tselectedHtml = selectedHtml == \"\" ? this.placeholder : selectedHtml;\n\t}else{\n\t\tselectedHtml = this.selectedOptions.length+' selected';\n\t}\n\t\n    this.dropdown.querySelector(\".multiple-options\").innerHTML = selectedHtml;\n  } else {\n    var html =\n      this.selectedOptions.length > 0\n        ? this.selectedOptions[0].data.text\n        : this.placeholder;\n\n    this.dropdown.querySelector(\".current\").innerHTML = html;\n  }\n};\n\nNiceSelect.prototype._renderItems = function() {\n  var ul = this.dropdown.querySelector(\"ul\");\n  this.options.forEach(item => {\n    ul.appendChild(this._renderItem(item));\n  });\n};\n\nNiceSelect.prototype._renderItem = function(option) {\n  var el = document.createElement(\"li\");\n  el.innerHTML = option.data.text;\n  if(option.attributes.optgroup){\n\t  el.classList.add('optgroup');\n  }else{\n \tel.setAttribute(\"data-value\", option.data.value);\n\tvar classList = [\n\t\t\"option\",\n\t\toption.attributes.selected ? \"selected\" : null,\n\t\toption.attributes.disabled ? \"disabled\" : null,\n\t];\n\t\n\tel.addEventListener(\"click\", this._onItemClicked.bind(this, option));\n\tel.classList.add(...classList);\n  }\n\n  option.element = el;\n  return el;\n};\n\nNiceSelect.prototype.update = function() {\n  this.extractData();\n  if (this.dropdown) {\n    var open = hasClass(this.dropdown, \"open\");\n    this.dropdown.parentNode.removeChild(this.dropdown);\n    this.create();\n\n    if (open) {\n      triggerClick(this.dropdown);\n    }\n  }\n};\n\nNiceSelect.prototype.disable = function() {\n  if (!this.disabled) {\n    this.disabled = true;\n    addClass(this.dropdown, \"disabled\");\n  }\n};\n\nNiceSelect.prototype.enable = function() {\n  if (this.disabled) {\n    this.disabled = false;\n    removeClass(this.dropdown, \"disabled\");\n  }\n};\n\nNiceSelect.prototype.clear = function() {\n  this.selectedOptions = [];\n  this._renderSelectedItems();\n  this.updateSelectValue();\n  triggerChange(this.el);\n};\n\nNiceSelect.prototype.destroy = function() {\n  if (this.dropdown) {\n    this.dropdown.parentNode.removeChild(this.dropdown);\n    this.el.style.display = \"\";\n  }\n};\n\nNiceSelect.prototype.bindEvent = function() {\n  var $this = this;\n  this.dropdown.addEventListener(\"click\", this._onClicked.bind(this));\n  this.dropdown.addEventListener(\"keydown\", this._onKeyPressed.bind(this));\n  this.dropdown.addEventListener(\"focusin\", triggerFocusIn.bind(this, this.el));\n  this.dropdown.addEventListener(\"focusout\", triggerFocusOut.bind(this, this.el));\n  window.addEventListener(\"click\", this._onClickedOutside.bind(this));\n\n  if (this.config.searchable) {\n    this._bindSearchEvent();\n  }\n};\n\nNiceSelect.prototype._bindSearchEvent = function() {\n  var searchBox = this.dropdown.querySelector(\".nice-select-search\");\n  if (searchBox)\n    searchBox.addEventListener(\"click\", function(e) {\n      e.stopPropagation();\n      return false;\n    });\n\n  searchBox.addEventListener(\"input\", this._onSearchChanged.bind(this));\n};\n\nNiceSelect.prototype._onClicked = function(e) {\n\tif (this.multiple) {\n\t\tthis.dropdown.classList.add(\"open\");\n\t}else{\n\t\tthis.dropdown.classList.toggle(\"open\");\n\t}\n\n  if (this.dropdown.classList.contains(\"open\")) {\n    var search = this.dropdown.querySelector(\".nice-select-search\");\n    if (search) {\n      search.value = \"\";\n      search.focus();\n    }\n\n    var t = this.dropdown.querySelector(\".focus\");\n    removeClass(t, \"focus\");\n    t = this.dropdown.querySelector(\".selected\");\n    addClass(t, \"focus\");\n    this.dropdown.querySelectorAll(\"ul li\").forEach(function(item) {\n      item.style.display = \"\";\n    });\n  } else {\n    this.dropdown.focus();\n  }\n};\n\nNiceSelect.prototype._onItemClicked = function(option, e) {\n  var optionEl = e.target;\n\n  if (!hasClass(optionEl, \"disabled\")) {\n    if (this.multiple) {\n      if (hasClass(optionEl, \"selected\")) {\n\t\tremoveClass(optionEl, \"selected\");\n\t\tthis.selectedOptions.splice(this.selectedOptions.indexOf(option),1);\n\t\tthis.el.querySelector('option[value=\"' + optionEl.dataset.value + '\"]').selected=false;\n\t  }else{\n        addClass(optionEl, \"selected\");\n        this.selectedOptions.push(option);\n      }\n    } else {\n      this.selectedOptions.forEach(function(item) {\n        removeClass(item.element, \"selected\");\n      });\n\n      addClass(optionEl, \"selected\");\n      this.selectedOptions = [option];\n    }\n\n    this._renderSelectedItems();\n    this.updateSelectValue();\n  }\n};\n\nNiceSelect.prototype.updateSelectValue = function() {\n  if (this.multiple) {\n    var select = this.el;\n    this.selectedOptions.forEach(function(item) {\n      var el = select.querySelector('option[value=\"' + item.data.value + '\"]');\n      if (el){\n\t\t  el.setAttribute(\"selected\", true);\n\t  }\n    });\n  } else if (this.selectedOptions.length > 0) {\n    this.el.value = this.selectedOptions[0].data.value;\n  }\n  triggerChange(this.el);\n};\n\nNiceSelect.prototype._onClickedOutside = function(e) {\n  if (!this.dropdown.contains(e.target)) {\n    this.dropdown.classList.remove(\"open\");\n  }\n};\n\nNiceSelect.prototype._onKeyPressed = function(e) {\n  // Keyboard events\n\n  var focusedOption = this.dropdown.querySelector(\".focus\");\n\n  var open = this.dropdown.classList.contains(\"open\");\n\n  // Space or Enter\n  if (e.keyCode == 32 || e.keyCode == 13) {\n    if (open) {\n      triggerClick(focusedOption);\n    } else {\n      triggerClick(this.dropdown);\n    }\n  } else if (e.keyCode == 40) {\n    // Down\n    if (!open) {\n      triggerClick(this.dropdown);\n    } else {\n      var next = this._findNext(focusedOption);\n      if (next) {\n        var t = this.dropdown.querySelector(\".focus\");\n        removeClass(t, \"focus\");\n        addClass(next, \"focus\");\n      }\n    }\n    e.preventDefault();\n  } else if (e.keyCode == 38) {\n    // Up\n    if (!open) {\n      triggerClick(this.dropdown);\n    } else {\n      var prev = this._findPrev(focusedOption);\n      if (prev) {\n        var t = this.dropdown.querySelector(\".focus\");\n        removeClass(t, \"focus\");\n        addClass(prev, \"focus\");\n      }\n    }\n    e.preventDefault();\n  } else if (e.keyCode == 27 && open) {\n    // Esc\n    triggerClick(this.dropdown);\n  }\n  return false;\n};\n\nNiceSelect.prototype._findNext = function(el) {\n  if (el) {\n    el = el.nextElementSibling;\n  } else {\n    el = this.dropdown.querySelector(\".list .option\");\n  }\n\n  while (el) {\n    if (!hasClass(el, \"disabled\") && el.style.display != \"none\") {\n      return el;\n    }\n    el = el.nextElementSibling;\n  }\n\n  return null;\n};\n\nNiceSelect.prototype._findPrev = function(el) {\n  if (el) {\n    el = el.previousElementSibling;\n  } else {\n    el = this.dropdown.querySelector(\".list .option:last-child\");\n  }\n\n  while (el) {\n    if (!hasClass(el, \"disabled\") && el.style.display != \"none\") {\n      return el;\n    }\n    el = el.previousElementSibling;\n  }\n\n  return null;\n};\n\nNiceSelect.prototype._onSearchChanged = function(e) {\n  var open = this.dropdown.classList.contains(\"open\");\n  var text = e.target.value;\n  text = text.toLowerCase();\n\n  if (text == \"\") {\n    this.options.forEach(function(item) {\n      item.element.style.display = \"\";\n    });\n  } else if (open) {\n    var matchReg = new RegExp(text);\n    this.options.forEach(function(item) {\n      var optionText = item.data.text.toLowerCase();\n      var matched = matchReg.test(optionText);\n      item.element.style.display = matched ? \"\" : \"none\";\n    });\n  }\n\n  this.dropdown.querySelectorAll(\".focus\").forEach(function(item) {\n    removeClass(item, \"focus\");\n  });\n\n  var firstEl = this._findNext(null);\n  addClass(firstEl, \"focus\");\n};\n\nexport function bind(el, options) {\n  return new NiceSelect(el, options);\n}\n"]}